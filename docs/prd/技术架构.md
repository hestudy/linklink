# 🏗️ 技术架构

## 技术栈选择

### 前端技术栈

- **框架**：React 19
- **路由**：TanStack Router
- **UI组件库**：shadcn/ui
- **样式**：TailwindCSS
- **状态管理**：React Query + Zustand
- **API通信**：tRPC
- **认证**：Better Auth

### 后端技术栈

- **框架**：Hono + tRPC
- **数据库**：Drizzle ORM + SQLite/Turso
- **认证**：Better Auth
- **AI服务**：OpenAI GPT API
- **向量数据库**：Pinecone/Weaviate
- **缓存**：Redis

### 浏览器扩展

- **框架**：WXT + React
- **目标平台**：Chrome、Firefox、Safari

## 系统架构

```mermaid
graph TB
    A[浏览器扩展] --> B[Web应用]
    C[移动端] --> B
    B --> D[tRPC API网关]
    D --> E[认证服务]
    D --> F[书签服务]
    D --> G[AI服务]
    D --> H[搜索服务]

    F --> I[(主数据库)]
    G --> J[AI API]
    H --> K[(向量数据库)]

    I --> L[缓存层]
    J --> M[内容分析]
    K --> N[语义搜索]
```

## 数据库设计

### 核心数据模型

- **用户表**：用户信息和偏好设置
- **书签表**：书签内容和元数据
- **标签表**：标签和分类信息
- **文件夹表**：组织结构
- **向量嵌入表**：AI分析结果

### 关键考虑因素

- 支持大量用户书签（每用户10万+）
- 快速搜索响应（亚秒级）
- 数据安全和隐私保护
- GDPR合规性
